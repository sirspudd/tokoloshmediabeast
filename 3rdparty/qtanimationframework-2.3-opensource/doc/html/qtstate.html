<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- qtanimationframework-2.3-opensource/src/qtstate.cpp -->
<head>
  <title>QtState Class Reference</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qt-logo.png" align="left" width="57" height="67" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a></td>
</tr></table><h1 class="title">QtState Class Reference<br /><span class="small-subtitle">[<a href="http://doc.trolltech.com/4.4/qtcore.html">QtCore</a> module]</span>
</h1>
<p>The QtState class provides a general-purpose state for <a href="qtstatemachine.html">QtStateMachine</a>. <a href="#details">More...</a></p>
<pre> #include &lt;QtState&gt;</pre><p>Inherits <a href="qtactionstate.html">QtActionState</a>.</p>
<ul>
<li><a href="qtstate-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-types"></a>
<h3>Public Types</h3>
<ul>
<li><div class="fn"/>enum <b><a href="qtstate.html#HistoryType-enum">HistoryType</a></b> { ShallowHistory, DeepHistory }</li>
<li><div class="fn"/>enum <b><a href="qtstate.html#Type-enum">Type</a></b> { Normal, ParallelGroup }</li>
</ul>
<a name="public-functions"></a>
<h3>Public Functions</h3>
<ul>
<li><div class="fn"/><b><a href="qtstate.html#QtState">QtState</a></b> ( QtState * <i>parent</i> = 0 )</li>
<li><div class="fn"/><b><a href="qtstate.html#QtState-2">QtState</a></b> ( Type <i>type</i>, QtState * <i>parent</i> = 0 )</li>
<li><div class="fn"/><b><a href="qtstate.html#dtor.QtState">~QtState</a></b> ()</li>
<li><div class="fn"/>QtStateFinishedTransition * <b><a href="qtstate.html#addFinishedTransition">addFinishedTransition</a></b> ( QtAbstractState * <i>target</i> )</li>
<li><div class="fn"/>QtHistoryState * <b><a href="qtstate.html#addHistoryState">addHistoryState</a></b> ( HistoryType <i>type</i> = ShallowHistory )</li>
<li><div class="fn"/>void <b><a href="qtstate.html#addTransition">addTransition</a></b> ( QtAbstractTransition * <i>transition</i> )</li>
<li><div class="fn"/>QtSignalTransition * <b><a href="qtstate.html#addTransition-2">addTransition</a></b> ( QObject * <i>sender</i>, const char * <i>signal</i>, QtAbstractState * <i>target</i> )</li>
<li><div class="fn"/>QtAbstractTransition * <b><a href="qtstate.html#addTransition-3">addTransition</a></b> ( QtAbstractState * <i>target</i> )</li>
<li><div class="fn"/>QtAbstractState * <b><a href="qtstate.html#errorState">errorState</a></b> () const</li>
<li><div class="fn"/>QtAbstractState * <b><a href="qtstate.html#initialState">initialState</a></b> () const</li>
<li><div class="fn"/>void <b><a href="qtstate.html#removeTransition">removeTransition</a></b> ( QtAbstractTransition * <i>transition</i> )</li>
<li><div class="fn"/>void <b><a href="qtstate.html#setErrorState">setErrorState</a></b> ( QtAbstractState * <i>state</i> )</li>
<li><div class="fn"/>void <b><a href="qtstate.html#setInitialState">setInitialState</a></b> ( QtAbstractState * <i>state</i> )</li>
<li><div class="fn"/>QList&lt;QtAbstractTransition *&gt; <b><a href="qtstate.html#transitions">transitions</a></b> () const</li>
</ul>
<ul>
<li><div class="fn"/>8 public functions inherited from <a href="qtactionstate.html#public-functions">QtActionState</a></li>
<li><div class="fn"/>4 public functions inherited from <a href="qtabstractstate.html#public-functions">QtAbstractState</a></li>
<li><div class="fn"/>29 public functions inherited from <a href="http://doc.trolltech.com/4.4/qobject.html#public-functions">QObject</a></li>
</ul>
<h3>Additional Inherited Members</h3>
<ul>
<li><div class="fn"/>1 property inherited from <a href="qtabstractstate.html#properties">QtAbstractState</a></li>
<li><div class="fn"/>1 property inherited from <a href="http://doc.trolltech.com/4.4/qobject.html#properties">QObject</a></li>
<li><div class="fn"/>1 public slot inherited from <a href="http://doc.trolltech.com/4.4/qobject.html#public-slots">QObject</a></li>
<li><div class="fn"/>1 signal inherited from <a href="http://doc.trolltech.com/4.4/qobject.html#signals">QObject</a></li>
<li><div class="fn"/>1 public type inherited from <a href="http://doc.trolltech.com/4.4/qobject.html#public-variables">QObject</a></li>
<li><div class="fn"/>4 static public members inherited from <a href="http://doc.trolltech.com/4.4/qobject.html#static-public-members">QObject</a></li>
<li><div class="fn"/>2 protected functions inherited from <a href="qtabstractstate.html#protected-functions">QtAbstractState</a></li>
<li><div class="fn"/>7 protected functions inherited from <a href="http://doc.trolltech.com/4.4/qobject.html#protected-functions">QObject</a></li>
<li><div class="fn"/>2 protected variables inherited from <a href="http://doc.trolltech.com/4.4/qobject.html#protected-variables">QObject</a></li>
</ul>
<a name="details"></a>
<hr />
<h2>Detailed Description</h2>
<p>The QtState class provides a general-purpose state for <a href="qtstatemachine.html">QtStateMachine</a>.</p>
<p>QtState objects can have child states, and can have transitions to other states. QtState is part of <a href="statemachine-api.html">The State Machine Framework</a>.</p>
<p>The <a href="qtstate.html#addTransition">addTransition</a>() function adds a transition. The <a href="qtstate.html#removeTransition">removeTransition</a>() function removes a transition.</p>
<a name="states-with-child-states"></a>
<h3>States with Child States</h3>
<p>For non-parallel state groups, the <a href="qtstate.html#setInitialState">setInitialState</a>() function must be called to set the initial state. The child states are mutually exclusive states, and the state machine needs to know which child state to enter when the parent state is the target of a transition.</p>
<p>The <a href="qtstate.html#addHistoryState">addHistoryState</a>() function adds a history state.</p>
<p>The <a href="qtstate.html#addFinishedTransition">addFinishedTransition</a>() function creates and adds a transition that's triggered when a final child state is entered.</p>
<p>The <a href="qtstate.html#setErrorState">setErrorState</a>() sets the state's error state. The error state is the state that the state machine will transition to if an error is detected when attempting to enter the state (e.g&#x2e; because no initial state has been set).</p>
<hr />
<h2>Member Type Documentation</h2>
<h3 class="fn"><a name="HistoryType-enum"></a>enum QtState::HistoryType</h3>
<p>This enum specifies the type of history that a <a href="qthistorystate.html">QtHistoryState</a> records.</p>
<p><table border="1" cellpadding="2" cellspacing="1" width="100%">
<tr><th width="25%">Constant</th><th width="15%">Value</th><th width="60%">Description</th></tr>
<tr><td valign="top"><tt>QtState::ShallowHistory</tt></td><td align="center" valign="top"><tt>0</tt></td><td valign="top">Only the immediate child states of the parent state are recorded. In this case a transition with the history state as its target will end up in the immediate child state that the parent was in the last time it was exited. This is the default.</td></tr>
<tr><td valign="top"><tt>QtState::DeepHistory</tt></td><td align="center" valign="top"><tt>1</tt></td><td valign="top">Nested states are recorded. In this case a transition with the history state as its target will end up in the most deeply nested descendant state the parent was in the last time it was exited.</td></tr>
</table></p>
<h3 class="fn"><a name="Type-enum"></a>enum QtState::Type</h3>
<p>This enum specifies the type of a state.</p>
<p><table border="1" cellpadding="2" cellspacing="1" width="100%">
<tr><th width="25%">Constant</th><th width="15%">Value</th><th width="60%">Description</th></tr>
<tr><td valign="top"><tt>QtState::Normal</tt></td><td align="center" valign="top"><tt>0</tt></td><td valign="top">A normal state. If the state has no child states, it is an atomic state; otherwise, the child states are mutually exclusive and an initial state must be set by calling <a href="qtstate.html#setInitialState">QtState::setInitialState</a>().</td></tr>
<tr><td valign="top"><tt>QtState::ParallelGroup</tt></td><td align="center" valign="top"><tt>1</tt></td><td valign="top">The state is a parallel group state. When a parallel group state is entered, all its child states are entered in parallel.</td></tr>
</table></p>
<hr />
<h2>Member Function Documentation</h2>
<h3 class="fn"><a name="QtState"></a>QtState::QtState ( QtState * <i>parent</i> = 0 )</h3>
<p>Constructs a new state with the given <i>parent</i> state.</p>
<h3 class="fn"><a name="QtState-2"></a>QtState::QtState ( <a href="qtstate.html#Type-enum">Type</a> <i>type</i>, QtState * <i>parent</i> = 0 )</h3>
<p>Constructs a new state of the given <i>type</i> with the given <i>parent</i> state.</p>
<h3 class="fn"><a name="dtor.QtState"></a>QtState::~QtState ()</h3>
<p>Destroys this state.</p>
<h3 class="fn"><a name="addFinishedTransition"></a><a href="qtstatefinishedtransition.html">QtStateFinishedTransition</a> * QtState::addFinishedTransition ( <a href="qtabstractstate.html">QtAbstractState</a> * <i>target</i> )</h3>
<p>Adds a transition that's triggered by the finished event of this state, and returns the new <a href="qtstatefinishedtransition.html">QtStateFinishedTransition</a> object. The transition has the given <i>target</i> state.</p>
<p>See also <a href="qtstatefinishedevent.html">QtStateFinishedEvent</a>.</p>
<h3 class="fn"><a name="addHistoryState"></a><a href="qthistorystate.html">QtHistoryState</a> * QtState::addHistoryState ( <a href="qtstate.html#HistoryType-enum">HistoryType</a> <i>type</i> = ShallowHistory )</h3>
<p>Creates a history state of the given <i>type</i> for this state and returns the new state. The history state becomes a child of this state.</p>
<h3 class="fn"><a name="addTransition"></a>void QtState::addTransition ( <a href="qtabstracttransition.html">QtAbstractTransition</a> * <i>transition</i> )</h3>
<p>Adds the given <i>transition</i>. The transition has this state as the source. This state takes ownership of the transition.</p>
<h3 class="fn"><a name="addTransition-2"></a><a href="qtsignaltransition.html">QtSignalTransition</a> * QtState::addTransition ( <a href="http://doc.trolltech.com/4.4/qobject.html">QObject</a> * <i>sender</i>, const char * <i>signal</i>, <a href="qtabstractstate.html">QtAbstractState</a> * <i>target</i> )</h3>
<p>This is an overloaded member function, provided for convenience.</p>
<p>Adds a transition associated with the given <i>signal</i> of the given <i>sender</i> object, and returns the new <a href="qtsignaltransition.html">QtSignalTransition</a> object. The transition has this state as the source, and the given <i>target</i> as the target state.</p>
<h3 class="fn"><a name="addTransition-3"></a><a href="qtabstracttransition.html">QtAbstractTransition</a> * QtState::addTransition ( <a href="qtabstractstate.html">QtAbstractState</a> * <i>target</i> )</h3>
<p>This is an overloaded member function, provided for convenience.</p>
<p>Adds an unconditional transition from this state to the given <i>target</i> state, and returns then new transition object.</p>
<h3 class="fn"><a name="errorState"></a><a href="qtabstractstate.html">QtAbstractState</a> * QtState::errorState () const</h3>
<p>Returns this state group's error state.</p>
<p>See also <a href="qtstatemachine.html#errorState-prop">QtStateMachine::errorState</a>() and <a href="qtstatemachine.html#errorState-prop">QtStateMachine::setErrorState</a>().</p>
<h3 class="fn"><a name="initialState"></a><a href="qtabstractstate.html">QtAbstractState</a> * QtState::initialState () const</h3>
<p>Returns this state's initial state, or 0 if the state has no initial state.</p>
<p>See also <a href="qtstate.html#setInitialState">setInitialState</a>().</p>
<h3 class="fn"><a name="removeTransition"></a>void QtState::removeTransition ( <a href="qtabstracttransition.html">QtAbstractTransition</a> * <i>transition</i> )</h3>
<p>Removes the given <i>transition</i> from this state. The state releases ownership of the transition.</p>
<p>See also <a href="qtstate.html#addTransition">addTransition</a>().</p>
<h3 class="fn"><a name="setErrorState"></a>void QtState::setErrorState ( <a href="qtabstractstate.html">QtAbstractState</a> * <i>state</i> )</h3>
<p>Sets this state's error state to be the given <i>state</i>. If the error state is not set, or if it is set to 0, the state will inherit its parent's error state recursively.</p>
<p>See also <a href="qtstatemachine.html#errorState-prop">QtStateMachine::setErrorState</a>() and <a href="qtstatemachine.html#errorState-prop">QtStateMachine::errorState</a>().</p>
<h3 class="fn"><a name="setInitialState"></a>void QtState::setInitialState ( <a href="qtabstractstate.html">QtAbstractState</a> * <i>state</i> )</h3>
<p>Sets this state's initial state to be the given <i>state</i>. <i>state</i> has to be a child of this state.</p>
<p>See also <a href="qtstate.html#initialState">initialState</a>().</p>
<h3 class="fn"><a name="transitions"></a><a href="http://doc.trolltech.com/4.4/qlist.html">QList</a>&lt;<a href="qtabstracttransition.html">QtAbstractTransition</a> *&gt; QtState::transitions () const</h3>
<p>Returns the list of transitions from this state, or an empty list if there are no transitions from this state.</p>
<p>See also <a href="qtstate.html#addTransition">addTransition</a>() and <a href="qtstate.html#removeTransition">removeTransition</a>().</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td width="30%" align="left">Copyright &copy; 2009 Nokia</td>
<td width="40%" align="center"><a href="http://doc.trolltech.com/trademarks.html">Trademarks</a></td>
<td width="30%" align="right"><div align="right">Qt Solutions</div></td>
</tr></table></div></address></body>
</html>
